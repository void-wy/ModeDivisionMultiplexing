///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef HIGHGUI_H
#define HIGHGUI_H

#include "highgui.h"

#endif

///////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef CGVIDEO_H
#define CGVIDEO_H

#include "CGVideo.h"

#endif

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef CCD_C
#define CCD_C

class CCD
{
private:
	IplImage *imageCCD;	//CCD拍摄的图像

private:
	CGSTATUS status;	//函数执行状态
	HCG hcg;	//图像卡句柄
	BYTE *pImageBuffer;	//采集图像缓冲区
	BYTE *pStaticBuffer;	//静态内存地址指针
	HANDLE handle;	//静态内存描述句柄

///////////////////////////////////////////////////////////////////////////////////////////////////

public:
	CCD();	//初始化CCD

private:
	void createWindow();	//创建CCD相关窗口
	void createImageCCD();	//创建CCD拍摄的图像
	void initializeICC();	//初始化ICC

///////////////////////////////////////////////////////////////////////////////////////////////////

public:
	IplImage * getImageCCD();	//返回CCD拍摄的图像

public:
	void snapShot();	//采集一帧图像

public:
	void showImage();	//显示CCD拍摄的图像

///////////////////////////////////////////////////////////////////////////////////////////////////

public:
	~CCD();	//关闭CCD

private:
	void finalizeICC();	//关闭ICC
	void destroyWindow();	//销毁CCD相关窗口
	void releaseImage();	//释放CCD相关图像资源
};

#endif

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////