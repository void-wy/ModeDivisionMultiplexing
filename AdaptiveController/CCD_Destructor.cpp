///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

#include "CCD.H"

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
//关闭CCD
CCD::~CCD()
{
	finalizeICC();	//关闭ICC

	destroyWindow();	//销毁CCD相关窗口

	releaseImage();	//释放CCD相关图像资源
}

//关闭ICC
void CCD::finalizeICC()
{
	delete []pImageBuffer;

	status = EndCGCard(hcg);

	CG_VERIFY(status);
}

//销毁CCD相关窗口
void CCD::destroyWindow()
{
	cvWaitKey(0);

	cvDestroyWindow("Image_CCD");
}

//释放CCD相关图像资源
void CCD::releaseImage()
{
	cvReleaseImage(&imageCCD);
}

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////