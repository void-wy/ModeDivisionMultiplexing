///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
/*
 *
 */
///////////////////////////////////////////////////////////////////////////////////////////////////

#include "RealCCD.h"





RealCCD::~RealCCD()
{
	finalizeICC();

	releaseImage();

	closeFileLog();
}



void RealCCD::finalizeICC()
{
	delete []pImageBuffer;

	status = EndCGCard(hcg);

	CG_VERIFY(status);
}



void RealCCD::releaseImage(int flag)
{
	switch(flag)
	{
	case AC_IMAGE_ALL:
		{
			cvReleaseImage(&imageCCD);
			cvReleaseImage(&imageDesired);
		}

		break;

	case AC_IMAGE_CCD:
		{
			cvReleaseImage(&imageCCD);
		}

		break;

	case AC_IMAGE_DESIRED:
		{
			cvReleaseImage(&imageDesired);
		}

		break;

	default:
		break;
	}
}



void RealCCD::closeFileLog()
{
	fileLog->close();

	delete fileLog;
}

///////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////